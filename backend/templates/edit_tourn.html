<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <title>Dwa panele z listą i suwakiem</title>
  <style>
    .bottom_body {
      display: flex;
      justify-content: space-between;
      margin: 20px;
      font-family: sans-serif;
    }
    .panel {
      width: 20%;
      border: 1px solid #ccc;
      padding: 10px;
    }
    select {
      width: 100%;
      height: 120px;
    }
  </style>
</head>
<body>
    {% if message %}
        <div style="background-color: #ffe5e5; color: red; padding: 10px; border: 1px solid red; margin-bottom: 20px;">
            {{ message }}
        </div>
    {% endif %}

    <!-- <div style="max-height: 200px; overflow-y: auto; border: 1px solid #ccc; padding: 5px;"> -->
    <div style="display: flex; font-weight: bold; margin-bottom: 5px;">
        <div style="flex: 1;">Data startu</div>
        <div style="flex: 2;">Nazwa</div>
        <div style="flex: 1;">Publiczny?</div>
        <div style="flex: 1;"></div>
    </div>

    <div style="display: flex; align-items: center; margin-bottom: 5px; border-bottom: 1px solid #eee; padding: 3px 0;">
        <div style="flex: 1;">{{ tournament_data.start_date }}</div>
        <div style="flex: 2;">{{ tournament_data.name }}</div>
        <div style="flex: 1;">{{ 'Tak' if tournament_data.public else 'Nie' }}</div>
        <div style="flex: 1;">
        </div>
    </div>


    <h1>Edit tournament data</h1>  
    <form method="POST" action="/tournament/{{ tournament_data.id }}/update" >
        <input value="{{ new_name }}" type="text" name="name" placeholder="{{tournament_data.name}}">
        <input value="{{ new_start_date_str }}" type="datetime-local" name="start_date" >
        <label>
            <input type="checkbox" name="public" {% if public %}checked{% endif %}>
            Publiczny
        </label>
        <button type="submit">Zapisz</button>
    </form>

   <div class="bottom_body" >
  <!-- Lewy panel -->
  <div class="panel">
    <label>Uczestnicy turnieju</label>
    <div style="max-height: 200px; overflow-y: auto; border: 1px solid #ccc; padding: 5px;">
        <ul style="list-style-type: none; padding: 0; margin: 0;">
            {% for username in participants %}
                <li style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span>{{ username }}</span>
                    <form method="post" action="/tournament/{{tournament_data.id}}/delate_user" style="margin: 0;">
                        <input type="hidden" name="username_to_delete" value="{{ username }}">
                        <button type="submit">Usuń</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
    </div>
    <br><br>

  </div>

  <!-- Prawy panel -->
  <div class="panel">

    <label>Wysłane zaproszenia</label>
    <select multiple>
      {% for username in invitations_send %}
        <option>{{ username }}</option>
      {% endfor %}
    </select>
    <br><br>

    <label>Zaproś znajomego</label>
    <div style="max-height: 200px; overflow-y: auto; border: 1px solid #ccc; padding: 5px;">
        <ul style="list-style-type: none; padding: 0; margin: 0;">
            {% for username in search_results %}
                <li style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span>{{ username }}</span>
                    <form method="post" action="/tournament/{{ tournament_data.id }}/invite" style="margin: 0;">
                        <input type="hidden" name="username_to_invite" value="{{ username }}">
                        <button type="submit">Zaproś</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
    </div>

    <form method="get" action="/tournament/{{ tournament_data.id }}">
      
      <input value="{{ username_search or '' }}" type="text" name="username_search" placeholder="Wpisz nazwę użytkownika">
      <button type="submit">Szukaj</button>
    </form>
  </div>
</div>
</body>
</html>
